{% extends "base.html" %}

{% block content %}
<div class="container" style="margin-top: 100px;">
    <h1>Contact Messages</h1>
    
    {% if messages %}
        <div class="messages-list">
            {% for message in messages %}
            <div class="message-card {% if not message.read %}unread{% endif %}">
                <div class="message-header">
                    <h3>{{ message.subject }}</h3>
                    <span class="message-date">{{ message.timestamp }}</span>
                </div>
                <div class="message-sender">
                    <strong>{{ message.name }}</strong> ({{ message.email }})
                </div>
                <div class="message-content">
                    <p>{{ message.message }}</p>
                </div>
                <div class="message-id">
                    Message ID: {{ message.id }} | Status: {% if message.read %}Read{% else %}Unread{% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No messages yet.</p>
    {% endif %}
</div>
{% endblock %}